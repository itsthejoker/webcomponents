<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BsModal Web Component Demo</title>
    <!-- Load Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body { padding-bottom: 50px; }
      hr { margin: 2rem 0; }
    </style>
  </head>
  <body>
    <div class="container mt-5">
      <h1>BsModal Web Component Demo</h1>
      <p class="lead">Examples of the <code>&lt;bs-modal&gt;</code> custom element.</p>
      
      <section>
        <h3>1. Basic Modal</h3>
        <p>Uses the <code>title</code> attribute and default settings.</p>
        <button type="button" class="btn btn-primary" onclick="document.getElementById('basicModal').show()">
          Launch basic modal
        </button>

        <bs-modal id="basicModal" title="Basic Modal">
          <p>This is a basic modal using the <code>&lt;bs-modal&gt;</code> web component. It automatically wraps the content in a <code>.modal-body</code>.</p>
          <div slot="footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" onclick="alert('Saved!')">Save changes</button>
          </div>
        </bs-modal>
      </section>

      <hr>

      <section>
        <h3>2. Large Scrollable Modal with Custom Title Slot</h3>
        <p>Uses <code>size="lg"</code>, <code>scrollable</code>, <code>centered</code>, and a custom title via <code>slot="title"</code>.</p>
        <button type="button" class="btn btn-secondary" onclick="document.getElementById('largeModal').show()">
          Launch large scrollable modal
        </button>

        <bs-modal id="largeModal" size="lg" scrollable centered>
          <span slot="title" class="text-primary"><i class="bi bi-info-circle"></i> Custom Header Element</span>
          <div slot="body">
            <p>This modal is large, vertically centered, and has scrollable content.</p>
            <div style="height: 600px; background: #f8f9fa; border: 1px dashed #dee2e6; display: flex; align-items: center; justify-content: center;">
              <p class="text-muted">Lots of scrollable content here...</p>
            </div>
            <p class="mt-3">End of content.</p>
          </div>
          <div slot="footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </bs-modal>
      </section>

      <hr>

      <section>
        <h3>3. Static Backdrop</h3>
        <p>Uses <code>backdrop="static"</code> and <code>keyboard="false"</code>. It won't close when clicking outside or pressing Escape.</p>
        <button type="button" class="btn btn-warning" onclick="document.getElementById('staticModal').show()">
          Launch static backdrop modal
        </button>

        <bs-modal id="staticModal" title="Static Backdrop" backdrop="static" keyboard="false">
          <p>I will not close if you click outside of me. Don't even try to press the escape key.</p>
          <div slot="footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Understood</button>
          </div>
        </bs-modal>
      </section>

      <hr>

      <section>
        <h3>4. Fullscreen Modal</h3>
        <p>Uses <code>fullscreen="true"</code>.</p>
        <button type="button" class="btn btn-info" onclick="document.getElementById('fullModal').show()">
          Launch fullscreen modal
        </button>

        <bs-modal id="fullModal" title="Fullscreen Modal" fullscreen="true">
          <p>This modal covers the entire viewport.</p>
          <div slot="footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </bs-modal>
      </section>

      <hr>

      <section>
        <h3>5. Programmatic Control</h3>
        <p>Toggle the modal every 2 seconds (starts a 3-cycle loop).</p>
        <button type="button" class="btn btn-dark" id="btnToggle">
          Start Auto-Toggle Loop
        </button>

        <bs-modal id="toggleModal" title="Auto-Toggle Modal">
          <p>This modal is being controlled via JavaScript methods.</p>
        </bs-modal>

        <script>
          document.getElementById('btnToggle').addEventListener('click', () => {
            const modal = document.getElementById('toggleModal');
            let count = 0;
            const interval = setInterval(() => {
              modal.toggle();
              count++;
              if (count >= 6) clearInterval(interval);
            }, 2000);
          });
        </script>
      </section>
    </div>

    <!-- Load Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Load our Web Component -->
    <script src="modal.js"></script>
  </body>
</html>
