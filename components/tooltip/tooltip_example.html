<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BsTooltip Web Component Demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { padding-bottom: 50px; }
    hr { margin: 2rem 0; }
    .example-container { max-width: 800px; margin: 0 auto; }
    .example-row { margin-bottom: 1rem; }
    
    /* Custom tooltip style */
    .custom-tooltip {
      --bs-tooltip-bg: var(--bs-primary);
      --bs-tooltip-color: var(--bs-white);
    }
  </style>
</head>
<body>

<div class="container mt-5 example-container">
  <h1>BsTooltip Web Component Demo</h1>
  <p class="lead">A custom web component wrapper and management system for Bootstrap Tooltips.</p>

  <section>
    <h3>Basic Usage</h3>
    <p>Wrap any element with <code>&lt;bs-tooltip&gt;</code> and provide a <code>title</code>.</p>
    <div class="example-row">
      <bs-tooltip title="Default tooltip">
        <button class="btn btn-secondary">Hover me</button>
      </bs-tooltip>
    </div>
    <bs-code-block class="mt-2">
&lt;bs-tooltip title="Default tooltip"&gt;
  &lt;button class="btn btn-secondary"&gt;Hover me&lt;/button&gt;
&lt;/bs-tooltip&gt;
    </bs-code-block>
  </section>

  <hr>

  <section>
    <h3>Directions</h3>
    <p>Use the <code>placement</code> attribute to change the tooltip position.</p>
    <div class="example-row d-flex gap-2 flex-wrap">
      <bs-tooltip title="Tooltip on top" placement="top">
        <button class="btn btn-secondary">Tooltip on top</button>
      </bs-tooltip>
      <bs-tooltip title="Tooltip on right" placement="right">
        <button class="btn btn-secondary">Tooltip on right</button>
      </bs-tooltip>
      <bs-tooltip title="Tooltip on bottom" placement="bottom">
        <button class="btn btn-secondary">Tooltip on bottom</button>
      </bs-tooltip>
      <bs-tooltip title="Tooltip on left" placement="left">
        <button class="btn btn-secondary">Tooltip on left</button>
      </bs-tooltip>
    </div>
    <bs-code-block class="mt-2">
&lt;bs-tooltip title="Tooltip on top" placement="top"&gt;
  &lt;button class="btn btn-secondary"&gt;Tooltip on top&lt;/button&gt;
&lt;/bs-tooltip&gt;

&lt;bs-tooltip title="Tooltip on right" placement="right"&gt;
  &lt;button class="btn btn-secondary"&gt;Tooltip on right&lt;/button&gt;
&lt;/bs-tooltip&gt;

&lt;bs-tooltip title="Tooltip on bottom" placement="bottom"&gt;
  &lt;button class="btn btn-secondary"&gt;Tooltip on bottom&lt;/button&gt;
&lt;/bs-tooltip&gt;

&lt;bs-tooltip title="Tooltip on left" placement="left"&gt;
  &lt;button class="btn btn-secondary"&gt;Tooltip on left&lt;/button&gt;
&lt;/bs-tooltip&gt;
    </bs-code-block>
  </section>

  <hr>

  <section>
    <h3>HTML Content</h3>
    <p>Use the <code>html</code> attribute to allow HTML tags in the title.</p>
    <div class="example-row">
      <bs-tooltip title="<em>Tooltip</em> <u>with</u> <b>HTML</b>" html placement="right">
        <button class="btn btn-secondary">Tooltip with HTML</button>
      </bs-tooltip>
    </div>
    <bs-code-block class="mt-2">
&lt;bs-tooltip title="&lt;em&gt;Tooltip&lt;/em&gt; &lt;u&gt;with&lt;/u&gt; &lt;b&gt;HTML&lt;/b&gt;" html placement="right"&gt;
  &lt;button class="btn btn-secondary"&gt;Tooltip with HTML&lt;/button&gt;
&lt;/bs-tooltip&gt;
    </bs-code-block>
  </section>

  <hr>

  <section>
    <h3>Custom Styles</h3>
    <p>Use <code>custom-class</code> to apply custom CSS variables to the tooltip.</p>
    <div class="example-row">
      <bs-tooltip title="This tooltip is themed via CSS variables." custom-class="custom-tooltip">
        <button class="btn btn-primary">Custom themed tooltip</button>
      </bs-tooltip>
    </div>
    <bs-code-block class="mt-2">
&lt;style&gt;
  .custom-tooltip {
    --bs-tooltip-bg: var(--bs-primary);
    --bs-tooltip-color: var(--bs-white);
  }
&lt;/style&gt;

&lt;bs-tooltip title="This tooltip is themed via CSS variables." custom-class="custom-tooltip"&gt;
  &lt;button class="btn btn-primary"&gt;Custom themed tooltip&lt;/button&gt;
&lt;/bs-tooltip&gt;
    </bs-code-block>
  </section>

  <hr>

  <section>
    <h3>Static Management System</h3>
    <p>The <code>BsTooltip</code> class provides static methods to manage tooltips globally or on specific elements.</p>
    
    <h5>1. Global Initialization</h5>
    <p>Initialize standard elements with <code>data-bs-toggle="tooltip"</code> using <code>BsTooltip.initAll()</code>.</p>
    <div id="dynamic-container" class="example-row p-3 border rounded bg-light">
      <button class="btn btn-outline-primary" data-bs-toggle="tooltip" title="Standard tooltip 1">Standard Tooltip 1</button>
      <button class="btn btn-outline-primary" data-bs-toggle="tooltip" title="Standard tooltip 2">Standard Tooltip 2</button>
      <div class="mt-2">
        <button class="btn btn-sm btn-success" onclick="BsTooltip.initAll(document.getElementById('dynamic-container'))">Initialize These</button>
        <button class="btn btn-sm btn-danger" onclick="BsTooltip.disposeAll(document.getElementById('dynamic-container'))">Dispose These</button>
      </div>
    </div>
    <bs-code-block class="mt-2">
&lt;div id="dynamic-container"&gt;
  &lt;button class="btn btn-outline-primary" data-bs-toggle="tooltip" title="Standard tooltip 1"&gt;Standard Tooltip 1&lt;/button&gt;
  &lt;button class="btn btn-outline-primary" data-bs-toggle="tooltip" title="Standard tooltip 2"&gt;Standard Tooltip 2&lt;/button&gt;
  
  &lt;button onclick="BsTooltip.initAll(document.getElementById('dynamic-container'))"&gt;Initialize&lt;/button&gt;
  &lt;button onclick="BsTooltip.disposeAll(document.getElementById('dynamic-container'))"&gt;Dispose&lt;/button&gt;
&lt;/div&gt;
    </bs-code-block>

    <h5 class="mt-4">2. Re-initialization</h5>
    <p>Change attributes and call <code>reinit()</code> or use the static <code>BsTooltip.reinit(el)</code>.</p>
    <div class="example-row">
      <bs-tooltip id="reinit-example" title="Initial Title" placement="top">
        <button class="btn btn-warning">Change & Re-init</button>
      </bs-tooltip>
      <div class="mt-2">
        <button class="btn btn-sm btn-secondary" onclick="updateAndReinit()">Change to "New Title" & Bottom</button>
      </div>
    </div>
    <bs-code-block class="mt-2">
&lt;bs-tooltip id="reinit-example" title="Initial Title" placement="top"&gt;
  &lt;button class="btn btn-warning"&gt;Change &amp; Re-init&lt;/button&gt;
&lt;/bs-tooltip&gt;

&lt;script&gt;
  function updateAndReinit() {
    const el = document.getElementById('reinit-example');
    el.setAttribute('data-bs-title', 'New Re-initialized Title!');
    el.setAttribute('placement', 'bottom');
    el.reinit();
  }
&lt;/script&gt;
    </bs-code-block>
  </section>

  <hr>

  <section>
    <h3>Programmatic Control</h3>
    <p>Control tooltips using component methods like <code>show()</code>, <code>hide()</code>, and <code>toggle()</code>.</p>
    <div class="example-row">
      <bs-tooltip id="manual-tooltip" title="Manually triggered" trigger="manual">
        <button class="btn btn-info text-white">I am manual</button>
      </bs-tooltip>
      <div class="mt-2">
        <button class="btn btn-sm btn-outline-info" onclick="document.getElementById('manual-tooltip').show()">Show</button>
        <button class="btn btn-sm btn-outline-info" onclick="document.getElementById('manual-tooltip').hide()">Hide</button>
        <button class="btn btn-sm btn-outline-info" onclick="document.getElementById('manual-tooltip').toggle()">Toggle</button>
      </div>
    </div>
    <bs-code-block class="mt-2">
&lt;bs-tooltip id="manual-tooltip" title="Manually triggered" trigger="manual"&gt;
  &lt;button class="btn btn-info text-white"&gt;I am manual&lt;/button&gt;
&lt;/bs-tooltip&gt;

&lt;button onclick="document.getElementById('manual-tooltip').show()"&gt;Show&lt;/button&gt;
&lt;button onclick="document.getElementById('manual-tooltip').hide()"&gt;Hide&lt;/button&gt;
&lt;button onclick="document.getElementById('manual-tooltip').toggle()"&gt;Toggle&lt;/button&gt;
    </bs-code-block>
  </section>
</div>

<script>
  function updateAndReinit() {
    const el = document.getElementById('reinit-example');
    // We use data-bs-title to avoid Bootstrap's internal title restoration behavior during re-init
    el.setAttribute('data-bs-title', 'New Re-initialized Title!');
    el.setAttribute('placement', 'bottom');
    el.reinit();
  }
</script>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Tooltip Component -->
<script src="tooltip.js"></script>
<script src="../code_block/code_block.js"></script>

</body>
</html>
